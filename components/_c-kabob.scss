
@mixin c-kabob( $color-scheme: $chroma-active-scheme,$reflect: false, $width: 100%,$divider:true, $unit: get-scale-units() ) {

    $self: &;
    width: $width;

    display: flex;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s ease;

    $props: (
        background: true,
        foreground: true,
        border: true,
        fill:accent
    );
    @include g-color-scheme($color-scheme,$props...);

    &.--monochrome{
        $props: (
            background: true,
            foreground: true,
            border: true,
            fill:foreground
        );
        @include g-color-scheme($color-scheme,$props...);
    }

    @if ($reflect) {
        &__right {
            @include u-reflect-X();
        }
    }
    .--reflect &__right {
        @include u-reflect-X();
    }

    &__left, &__right {
     //   @include u-icon-svg(color($color-scheme, accent), ms(0));
    //    @include o-icon-svg(color($color-scheme, accent));
    }
    .--monochrome &__left, .--monochrome &__right {
      //  @include u-icon-svg(color($color-scheme, foreground), ms(0));
    //    @include o-icon-svg(color($color-scheme, foreground));

    }

    @each $key, $unit in $scale-units {
        @debug 'kabob scale-sizes-#{$key}';

        &.--#{$key} &__right,&.--#{$key} &__left{
           @include o-icon-svg(color($color-scheme, accent), $key);
        }
        &.--monochrome.--#{$key} &__right,&.--monochrome.--#{$key} &__left{
           @include o-icon-svg(color($color-scheme, foreground), $key);
        }
    }


    &__inner {
        //float center text
        position: absolute;
        width: auto;
        margin: 0 auto;

        .--no-divider & {
            position: relative;
            height: auto;
            margin: 0;
            padding: 0;
            * {
                padding: 0 rhythm($unit) * .25;
            }
        }

        * {
            background: color($color-scheme, background);
            outline: 1px solid color($color-scheme, background);
        }
    }

    @if ($divider){

        &__center {
            position: relative;
            display: flex;
             align-items: center;
            height: 100%;
            width: 100%;

            &:after {
                display: block;
                width: 100%;
                height: ms(get-scale-units()) * .1;
                background: color($color-scheme, foreground);
                content: " ";

                $multiplier: .1; ///size the line

                .--xs & {
                    height: ms(get-scale-units(xs))  * $multiplier;
                }
                .--sm & {
                    height: ms(get-scale-units(sm))  * $multiplier;
                }
                .--md & {
                    height: ms(get-scale-units(md))  * $multiplier;
                }
                .--lg & {
                    height: ms(get-scale-units(lg))  * $multiplier;
                }
                .--xl & {
                    height: ms(get-scale-units(xl)) * $multiplier;
                }
                .--no-divider & {
                    content: " ";
                    height: 0;
                    display: none;
                }
            }
        }
    }



    @content;
}

